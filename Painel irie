-- Script de Aimbot para Roblox (Mobile & PC)

-- Configura√ß√µes Iniciais
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local camera = workspace.CurrentCamera

-- GUI - Menu Ultra Fino
local gui = Instance.new("ScreenGui")
gui.Name = "AimbotGUI"
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 140, 1, 0)
frame.Position = UDim2.new(0, 0, 0, 0)
frame.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
frame.BorderSizePixel = 0
frame.Parent = gui

-- Header
local header = Instance.new("TextLabel")
header.Text = "nova gera√ß√£o‚ö°"
header.Size = UDim2.new(1, 0, 0, 40)
header.BackgroundTransparency = 1
header.Font = Enum.Font.SourceSansBold
header.TextColor3 = Color3.fromRGB(255, 211, 0)
header.Parent = frame

-- Drag Handle
local dragHandle = Instance.new("TextButton")
dragHandle.Text = ""
dragHandle.Size = UDim2.new(1, 0, 0, 40)
dragHandle.BackgroundTransparency = 1
dragHandle.MouseButton1Down:Connect(function()
    local mousePos = mouse.AbsolutePosition
    local framePos = frame.AbsolutePosition
    while mouse.LeftButton == Enum.UserInputState.Begin do wait()
        frame.Position = UDim2.new(0, framePos.X + (mouse.AbsolutePosition - mousePos).X,
                                   0, framePos.Y + (mouse.AbsolutePosition - mousePos).Y)
    end
end)
dragHandle.Parent = header

-- Float Button
local floatButton = Instance.new("TextButton")
floatButton.Text = "üë∑"
floatButton.Size = UDim2.new(0, 30, 0, 30)
floatButton.Position = UDim2.new(0, 100, 0, 10)
floatButton.BackgroundTransparency = 1
floatButton.Font = Enum.Font.SourceSansBold
floatButton.TextColor3 = Color3.fromRGB(255, 211, 0)
floatButton.MouseButton1Click:Connect(function()
    frame.Visible = not frame.Visible
end)
floatButton.Parent = frame

-- FOV TextBox
local fovBox = Instance.new("TextBox")
fovBox.PlaceholderText = "FOV"
fovBox.Size = UDim2.new(0, 120, 0, 20)
fovBox.Position = UDim2.new(0, 10, 0, 60)
fovBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
fovBox.TextColor3 = Color3.fromRGB(255, 211, 0)
fovBox.Font = Enum.Font.SourceSansBold
fovBox.TextSize = 12
fovBox.Parent = frame

-- Flags e Bot√µes
local flags = {
    aimbot = true,
    wallHack = true,
    teamCheck = true,
    wallCheck = true,
    deadCheck = true,
    fov = true,
    lines = true
}

local buttons = {}

for i, flag in pairs(flags) do
    local button = Instance.new("TextButton")
    button.Text = i
    button.Size = UDim2.new(0, 120, 0, 20)
    button.Position = UDim2.new(0, 10, 0, 90 + (i-1)*30)
    button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    button.TextColor3 = flag and Color3.fromRGB(255, 211, 0) or Color3.fromRGB(100, 100, 100)
    button.Font = Enum.Font.SourceSansBold
    button.TextSize = 12
    button.MouseButton1Click:Connect(function()
        flags[i] = not flags[i]
        button.TextColor3 = flags[i] and Color3.fromRGB(255, 211, 0) or Color3.fromRGB(100, 100, 100)
    end)
    button.Parent = frame
    buttons[i] = button
end

-- FOV Circle
local fovCircle = Instance.new("ImageLabel")
fovCircle.Image = "rbxasset://textures/FOVCircle.png"
fovCircle.Size = UDim2.new(0, 100, 0, 100)
fovCircle.Position = UDim2.new(0, 20, 0, 10)
fovCircle.BackgroundTransparency = 1
fovCircle.Visible = flags.fov
fovCircle.Parent = frame

-- Main Loop
while wait() do
    if flags.aimbot then
        local target = nil
        local closestDistance = math.huge
        
        for _, character in ipairs(workspace:GetChildren()) do
            if character:IsA("Model") and character:FindFirstChild("Humanoid") and character ~= player.Character then
                local head = character:FindFirstChild("Head")
                if head then
                    local screenPos, onScreen = camera:WorldToViewportPoint(head.Position)
                    local distance = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(camera.ViewportSize.X/2, camera.ViewportSize.Y/2)).Magnitude
                    
                    if onScreen and distance < closestDistance and (not flags.teamCheck or character.Team ~= player.Team) then
                        closestDistance = distance
                        target = head
                    end
                end
            end
        end
        
        if target then
            local currentMousePos = mouse.Hit.Position
            local targetPos = target.Position
            local direction = (targetPos - currentMousePos).unit
            
            -- Lerp 0.9 for smooth aim
            mouse.Hit = RaycastParams.new()
            mouse.Hit = workspace:Raycast(currentMousePos, direction * 1000, RaycastFilterInfo.new())
            
            if mouse.Hit then
                mouse.Hit = mouse.Hit.Instance
            end
        end
    end
    
    if flags.wallHack then
        for _, character in ipairs(workspace:GetChildren()) do
            if character:IsA("Model") and character:FindFirstChild("Humanoid") and character ~= player.Character then
                local head = character:FindFirstChild("Head")
                if head then
                    local highlight = character:FindFirstChild("Highlight")
                    if not highlight then
                        highlight = Instance.new("Highlight")
                        highlight.Enabled = true
                        highlight.FillTransparency = 0.7
                        highlight.OutlineTransparency = 0.5
                        highlight.FillColor = Color3.fromRGB(255, 0, 0)
                        highlight.Parent = head
                    end
                end
            end
        end
    end
    
    if flags.lines then
        for _, character in ipairs(workspace:GetChildren()) do
            if character:IsA("Model") and character:FindFirstChild("Humanoid") and character ~= player.Character then
                local head = character:FindFirstChild("Head")
                if head then
                    local line = character:FindFirstChild("Line")
                    if not line then
                        line = Instance.new("Beam")
                        line.Enabled = true
                        line.Attachment0 = Attachment.new(head)
                        line.Attachment1 = Attachment.new(mouse.Hit)
                        line.Color = ColorSequence.new(Color3.fromRGB(255, 0, 0))
                        line.Width = 2
                        line.Parent = character
                    else
                        line.Attachment1 = Attachment.new(mouse.Hit)
                    end
                end
            end
        end
    end
    
    if flags.deadCheck then
        for _, character in ipairs(workspace:GetChildren()) do
            if character:IsA("Model") and character:FindFirstChild("Humanoid") and character ~= player.Character then
                local humanoid = character:FindFirstChild("Humanoid")
                if humanoid.Health <= 0 then
                    local highlight = character:FindFirstChild("Highlight")
                    if highlight then
                        highlight.Enabled = false
                    end
                end
            end
        end
    end
end

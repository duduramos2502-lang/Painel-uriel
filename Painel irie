-- [[ PAINEL URIEL V14.1 - FIX 100% FUNCIONAL ]] --
local P, R, U, C, L = game:GetService("Players"), game:GetService("RunService"), game:GetService("UserInputService"), workspace.CurrentCamera, game:GetService("Players").LocalPlayer
local F = {A = true, WC = true, T = true, S = true, FS = 150, Sm = 0.85, TP = "Head"} -- Sm menor = Puxada mais forte
local Y, B = Color3.fromRGB(138, 43, 226), Color3.fromRGB(10, 10, 10)

-- Interface Minimalista
local G = Instance.new("ScreenGui", L.PlayerGui); G.Name = "UrielFix"
local M = Instance.new("Frame", G); M.Size = UDim2.new(0, 350, 0, 180); M.Position = UDim2.new(0.5, -175, 0.4, 0); M.BackgroundColor3 = B; M.BorderSizePixel = 0
local H = Instance.new("Frame", M); H.Size = UDim2.new(1, 0, 0, 25); H.BackgroundColor3 = Y
local T = Instance.new("TextLabel", H); T.Size = UDim2.new(1, 0, 1, 0); T.Text = "PAINEL URIEL - 100% FUNCIONALâš¡"; T.TextColor3 = Color3.new(1,1,1); T.BackgroundTransparency = 1; T.TextSize = 12

local CT = Instance.new("Frame", M); CT.Size = UDim2.new(1, -20, 1, -40); CT.Position = UDim2.new(0, 10, 0, 35); CT.BackgroundTransparency = 1
local GL = Instance.new("UIGridLayout", CT); GL.CellSize = UDim2.new(0, 155, 0, 30); GL.CellPadding = UDim2.new(0, 10, 0, 5)

local function btn(n, f)
    local b = Instance.new("TextButton", CT); b.BackgroundColor3 = Color3.fromRGB(25, 25, 25); b.Text = n; b.TextColor3 = F[f] and Y or Color3.new(1,1,1)
    b.MouseButton1Click:Connect(function() F[f] = not F[f]; b.TextColor3 = F[f] and Y or Color3.new(1,1,1) end)
end

local AT = Instance.new("TextButton", CT); AT.BackgroundColor3 = Y; AT.Text = "Alvo: CabeÃ§a"; AT.TextColor3 = Color3.new(1,1,1)
AT.MouseButton1Click:Connect(function() F.TP = (F.TP == "Head" and "HumanoidRootPart" or "Head"); AT.Text = "Alvo: "..(F.TP == "Head" and "CabeÃ§a" or "Tronco") end)

btn("Aimbot (M2)", "A"); btn("Wall Check", "WC"); btn("Team Check", "T"); btn("Exibir FOV", "S")

-- Desenho do FOV
local Cir = Drawing.new("Circle"); Cir.Thickness = 1; Cir.Color = Y; Cir.Visible = true; Cir.Transparency = 1; Cir.Filled = false

-- FunÃ§Ã£o de Checagem de Parede (Simplificada para PC)
local function Visible(t)
    if not F.WC then return true end
    local r = C:Raycast(C.CFrame.Position, t.Position - C.CFrame.Position, RaycastParams.new())
    return not r or r.Instance:IsDescendantOf(t.Parent)
end

-- Busca de Alvo
local function Get()
    local target, dist = nil, F.FS
    for _, v in pairs(P:GetPlayers()) do
        if v ~= L and v.Character and v.Character:FindFirstChild(F.TP) and v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health > 0 then
            if F.T and v.Team == L.Team then continue end
            local p, on = C:WorldToViewportPoint(v.Character[F.TP].Position)
            if on then
                local mag = (Vector2.new(p.X, p.Y) - Vector2.new(C.ViewportSize.X/2, C.ViewportSize.Y/2)).Magnitude
                if mag < dist and Visible(v.Character[F.TP]) then
                    dist = mag; target = v.Character[F.TP]
                end
            end
        end
    end
    return target
end

-- Loop de Movimento (ForÃ§ado para Xeno)
R.RenderStepped:Connect(function()
    Cir.Visible = F.S; Cir.Radius = F.FS; Cir.Position = Vector2.new(C.ViewportSize.X/2, C.ViewportSize.Y/2)
    if F.A and U:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local t = Get()
        if t then
            local p = C:WorldToViewportPoint(t.Position)
            local ScreenCenter = Vector2.new(C.ViewportSize.X/2, C.ViewportSize.Y/2)
            local AimPos = Vector2.new(p.X, p.Y)
            -- Movimento Relativo com Sensibilidade Ajustada para Xeno
            mousemoverel((AimPos.X - ScreenCenter.X) * (1 - F.Sm), (AimPos.Y - ScreenCenter.Y) * (1 - F.Sm))
        end
    end
end)

-- BotÃ£o de Abrir/Fechar
local TG = Instance.new("TextButton", G); TG.Size = UDim2.new(0, 35, 0, 35); TG.Position = UDim2.new(0, 10, 0, 10); TG.Text = "ðŸ‘·"; TG.BackgroundColor3 = Y; TG.MouseButton1Click:Connect(function() M.Visible = not M.Visible end)
